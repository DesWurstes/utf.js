function FromString(f){for(var g=f.length,e=new Uint32Array(g),a=0,c=0;c<g;c++,a++){var b=f.charCodeAt(c);if(55296>b||57344<=b)e[a]=b;else{c++;var h=f.charCodeAt(c);if(56320<=b||56320>h)return[];e[a]=(b-55296<<10)+h+9216}}return e.slice(0,a)}
function FromUTF8(f){for(var g=f.length,e=new Uint32Array(g),a=0,c=0;c<g;c++,a++){var b=f[c];if(0==(b&128))e[a]=b;else{if(0==(b&64))return[];if(0==(b&32)){c++;e[a]=(b&31)<<6|f[c]&63;if(128==(d&192))continue;return[]}if(0==(b&16)){c++;var h=f[c];c++;var k=f[c];e[a]=(b&15)<<12|(h&63)<<6|k&63;if(128==(h&192)&&128==(k&192))continue;return[]}if(0==(b&8)){c++;h=f[c];c++;k=f[c];c++;var l=f[c];e[a]=(b&7)<<18|(h&63)<<12|(k&63)<<6|l&63;if(128==(h&192)&&128==(k&192)&&128==(l&192))continue}return[]}}return e.slice(0,a)}
function FromUTF16(f){for(var g=f.length,e=new Uint32Array(g),a=0,c=0;c<g;c++,a++){var b=f[c];if(55296>b||57344<=b)e[a]=b;else{c++;var h=f[c];if(56320<=b||56320>h)throw utfError;e[a]=(b-55296<<10)+h+9216}}return e.slice(0,a)}function ToString(f){for(var g=f.length,e=0;e<g;e++){var a=f[e];if(55296>a||57344<=a&&65536>a)"".push(a);else{if(55296<=a||57344>a)break;a-=65536;"".push((a>>10)+55296);"".push((a&1023)+56320)}}return""}
function ToUTF8(f){for(var g=f.length,e=new Uint8Array(g<<2),a=0,c=0;c<g;c++,a++){var b=f[c];if(128>b)e[a]=b;else if(2048>b)e[a]=b>>>6|192,a++,e[a]=b&63|128;else if(65536>b)e[a]=b>>>12|224,a++,e[a]=b>>>6&63|128,a++,e[a]=b&63|128;else if(1114112>b)e[a]=b>>>18|240,a++,e[a]=b>>>12&63|128,a++,e[a]=b>>>6&63|128,a++,e[a]=b&63|128;else throw utfError;}return e.slice(0,a)}
function ToUTF16(f){for(var g=f.length,e=new Uint16Array(g<<1),a=0,c=0;c<g;c++,a++){var b=f[c];if(55296>b||57344<=b&&65536>b)e[a]=b;else{if(55296<=b||57344>b)return[];b-=65536;e[a]=(b>>10)+55296;a++;e[a]=(b&1023)+56320}}return e.slice(0,a)};
